ezua:
  domainName: "${DOMAIN_NAME}"
  virtualService:
    endpoint: "manufacturing-co.${DOMAIN_NAME}"
    istioGateway: "istio-system/ezaf-gateway"
  authorizationPolicy:
    namespace: "istio-system"
    providerName: "oauth2-proxy"
    matchLabels:
      app: "manufacturing-co"

# API Service
backend:
  name: backend
  image:
    repository: erdincka/manufacturing-co-backend
    pullPolicy: Always
    tag: "latest"
  service:
    type: ClusterIP
    port: 8000
  resources:
    requests:
      memory: "1Gi"
      cpu: "1000m"
    limits:
      memory: "2Gi"
      cpu: "2000m"
  persistence:
    enabled: true
    accessMode: ReadWriteOnce
    size: 1Gi
  env:
    DEBUG: "false"
    NODE_ENV: "production"
  secrets:
    jwtSecret: "" # Base64 encoded

# Web Service
frontend:
  name: frontend
  image:
    repository: erdincka/manufacturing-co-frontend
    pullPolicy: Always
    tag: "latest"
  service:
    type: ClusterIP
    port: 3000
  resources:
    requests:
      memory: "1Gi"
      cpu: "1000m"
    limits:
      memory: "2Gi"
      cpu: "2000m"
  env:
    NEXT_PUBLIC_API_URL: "" # Will default to api-service if empty
